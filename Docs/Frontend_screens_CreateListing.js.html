<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Frontend/screens/CreateListing.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/NaveFlactem/BlitzBuyr" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><h3>Classes</h3><ul><li><a href="Components.CustomFlipCard.Back.html">Components.CustomFlipCard.Back</a><ul class='members'><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.Back.html#.Back.defaultProps">Back.defaultProps</a></li><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.Back.html#.Back.propTypes">Back.propTypes</a></li></ul></li><li><a href="Components.CustomFlipCard.Face.html">Components.CustomFlipCard.Face</a><ul class='members'><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.Face.html#.Face.propTypes">Face.propTypes</a></li></ul></li><li><a href="Components.CustomFlipCard.FlipCard.html">Components.CustomFlipCard.FlipCard</a><ul class='members'><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.FlipCard.defaultProps">FlipCard.defaultProps</a></li><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.lastTap">lastTap</a></li><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.measureOtherSideTimeout">measureOtherSideTimeout</a></li><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.measured">measured</a></li><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.propTypes">propTypes</a></li><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.propTypes">propTypes</a></li><li data-type='member' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.tapTimeout">tapTimeout</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#._animation">_animation</a></li><li data-type='method' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.componentDidUpdate">componentDidUpdate</a></li><li data-type='method' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.constructor">constructor</a></li><li data-type='method' style='display: none;'><a href="Components.CustomFlipCard.FlipCard.html#.getDerivedStateFromProps">getDerivedStateFromProps</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-API_Accounts.html">API/Accounts</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-API_Accounts.html#~authenticateUser">authenticateUser</a></li><li data-type='method' style='display: none;'><a href="module-API_Accounts.html#~getAccounts">getAccounts</a></li><li data-type='method' style='display: none;'><a href="module-API_Accounts.html#~handleDeleteAccounts">handleDeleteAccounts</a></li><li data-type='method' style='display: none;'><a href="module-API_Accounts.html#~handleLoginRequest">handleLoginRequest</a></li><li data-type='method' style='display: none;'><a href="module-API_Accounts.html#~handleRegistrationRequest">handleRegistrationRequest</a></li></ul></li><li><a href="module-API_Listings.html">API/Listings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-API_Listings.html#~createListing">createListing</a></li><li data-type='method' style='display: none;'><a href="module-API_Listings.html#~encodeImageToBlurhash">encodeImageToBlurhash</a></li><li data-type='method' style='display: none;'><a href="module-API_Listings.html#~getImages">getImages</a></li><li data-type='method' style='display: none;'><a href="module-API_Listings.html#~getListings">getListings</a></li><li data-type='method' style='display: none;'><a href="module-API_Listings.html#~handleDeleteImages">handleDeleteImages</a></li><li data-type='method' style='display: none;'><a href="module-API_Listings.html#~handleDeleteListing">handleDeleteListing</a></li><li data-type='method' style='display: none;'><a href="module-API_Listings.html#~handleDeleteListings">handleDeleteListings</a></li></ul></li><li><a href="module-API_Profile.html">API/Profile</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~deleteAllLikes">deleteAllLikes</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~deleteRating">deleteRating</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~getLikes">getLikes</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~getProfilePicture">getProfilePicture</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~getRatings">getRatings</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~getUserProfile">getUserProfile</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~handleLike">handleLike</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~handleUnlike">handleUnlike</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~rateUser">rateUser</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~updateContactInfo">updateContactInfo</a></li><li data-type='method' style='display: none;'><a href="module-API_Profile.html#~updateProfile">updateProfile</a></li></ul></li><li><a href="module-Database.html">Database</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Database.html#~areTableDefinitionsEqual">areTableDefinitionsEqual</a></li><li data-type='method' style='display: none;'><a href="module-Database.html#~createOrUpdateTable">createOrUpdateTable</a></li><li data-type='method' style='display: none;'><a href="module-Database.html#~createTables">createTables</a></li><li data-type='method' style='display: none;'><a href="module-Database.html#~extractColumnsFromDefinition">extractColumnsFromDefinition</a></li></ul></li><li><a href="module-Server.html">Server</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Server.html#~getRoot">getRoot</a></li><li data-type='method' style='display: none;'><a href="module-Server.html#~requestLogger">requestLogger</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="Components.html">Components</a></li><li><a href="Components.CalculateFontSize.html">Components.CalculateFontSize</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.CalculateFontSize.html#.calculateFontSize">calculateFontSize</a></li><li data-type='method' style='display: none;'><a href="Components.CalculateFontSize.html#.calculateFontSizeLocation">calculateFontSizeLocation</a></li><li data-type='method' style='display: none;'><a href="Components.CalculateFontSize.html#.calculateTagTextFontSize">calculateTagTextFontSize</a></li><li data-type='method' style='display: none;'><a href="Components.CalculateFontSize.html#.calculateTransactionFontSize">calculateTransactionFontSize</a></li></ul></li><li><a href="Components.CustomFlipCard.html">Components.CustomFlipCard</a></li><li><a href="Components.Listing.html">Components.Listing</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.Listing.html#.CardOverlay">CardOverlay</a></li><li data-type='method' style='display: none;'><a href="Components.Listing.html#.CustomItem">CustomItem</a></li><li data-type='method' style='display: none;'><a href="Components.Listing.html#.DeleteButton">DeleteButton</a></li><li data-type='method' style='display: none;'><a href="Components.Listing.html#.LikeButton">LikeButton</a></li><li data-type='method' style='display: none;'><a href="Components.Listing.html#.Listing">Listing</a></li><li data-type='method' style='display: none;'><a href="Components.Listing.html#.MemoizedImage">MemoizedImage</a></li><li data-type='method' style='display: none;'><a href="Components.Listing.html#.TimeBox">TimeBox</a></li><li data-type='method' style='display: none;'><a href="Components.Listing.html#.getDistance">getDistance</a></li></ul></li><li><a href="Components.LocationSlider.html">Components.LocationSlider</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.LocationSlider.html#.LocationSlider">LocationSlider</a></li></ul></li><li><a href="Components.NoListings.html">Components.NoListings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.NoListings.html#.NoListings">NoListings</a></li></ul></li><li><a href="Components.NoWifi.html">Components.NoWifi</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.NoWifi.html#.NoWifi">NoWifi</a></li></ul></li><li><a href="Components.Notifications.html">Components.Notifications</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.Notifications.html#.checkListingExpiration">checkListingExpiration</a></li><li data-type='method' style='display: none;'><a href="Components.Notifications.html#.likedNotification">likedNotification</a></li><li data-type='method' style='display: none;'><a href="Components.Notifications.html#.scheduleNotification">scheduleNotification</a></li></ul></li><li><a href="Components.Swipers.html">Components.Swipers</a></li><li><a href="Components.Swipers.AndroidSwiperComponent.html">Components.Swipers.AndroidSwiperComponent</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.Swipers.AndroidSwiperComponent.html#.AndroidSwiperComponent">AndroidSwiperComponent</a></li></ul></li><li><a href="Components.Swipers.IOSSwiperComponent.html">Components.Swipers.IOSSwiperComponent</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.Swipers.IOSSwiperComponent.html#.IOSSwiperComponent">IOSSwiperComponent</a></li></ul></li><li><a href="Components.TagDrawer.html">Components.TagDrawer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.TagDrawer.html#.TagDrawer">TagDrawer</a></li></ul></li><li><a href="Components.TopBarHome.html">Components.TopBarHome</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.TopBarHome.html#.TopBar">TopBar</a></li></ul></li><li><a href="Components.Visuals.html">Components.Visuals</a></li><li><a href="Components.Visuals.BouncePulse.html">Components.Visuals.BouncePulse</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.Visuals.BouncePulse.html#.BouncePulse">BouncePulse</a></li></ul></li><li><a href="Components.Visuals.CustomRefreshControl.html">Components.Visuals.CustomRefreshControl</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.Visuals.CustomRefreshControl.html#.CustomRefreshControl">CustomRefreshControl</a></li></ul></li><li><a href="Components.Visuals.Icons.html">Components.Visuals.Icons</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.Visuals.Icons.html#.Icon">Icon</a></li></ul></li><li><a href="Components.Visuals.ThemeProvider.html">Components.Visuals.ThemeProvider</a><ul class='members'><li data-type='member' style='display: none;'><a href="Components.Visuals.ThemeProvider.html#.ThemeProvider">ThemeProvider</a></li></ul></li><li><a href="Components.Visuals.TopBarGeneric.html">Components.Visuals.TopBarGeneric</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Components.Visuals.TopBarGeneric.html#.TopBar">TopBar</a></li></ul></li><li><a href="Hooks.html">Hooks</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Hooks.html#.useBackButtonHandler">useBackButtonHandler</a></li><li data-type='method' style='display: none;'><a href="Hooks.html#.useLocation">useLocation</a></li></ul></li><li><a href="ListingData.html">ListingData</a></li><li><a href="Networking.html">Networking</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Networking.html#.fetchListings">fetchListings</a></li><li data-type='method' style='display: none;'><a href="Networking.html#.handleDeleteAccount">handleDeleteAccount</a></li><li data-type='method' style='display: none;'><a href="Networking.html#.handleDeleteAccount">handleDeleteAccount</a></li><li data-type='method' style='display: none;'><a href="Networking.html#.handleLike">handleLike</a></li><li data-type='method' style='display: none;'><a href="Networking.html#.handleListingCreation">handleListingCreation</a></li><li data-type='method' style='display: none;'><a href="Networking.html#.saveContactInfo">saveContactInfo</a></li><li data-type='method' style='display: none;'><a href="Networking.html#.saveProfileInfo">saveProfileInfo</a></li></ul></li><li><a href="ScreenDimensions.html">ScreenDimensions</a></li><li><a href="Screens.html">Screens</a></li><li><a href="Screens.AboutUs.html">Screens.AboutUs</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.AboutUs.html#.AboutUsScreen">AboutUsScreen</a></li></ul></li><li><a href="Screens.Auth.html">Screens.Auth</a></li><li><a href="Screens.Auth.Authenticate.html">Screens.Auth.Authenticate</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.Auth.Authenticate.html#.AuthenticateScreen">AuthenticateScreen</a></li><li data-type='method' style='display: none;'><a href="Screens.Auth.Authenticate.html#.clearStoredCredentials">clearStoredCredentials</a></li><li data-type='method' style='display: none;'><a href="Screens.Auth.Authenticate.html#.getStoredPassword">getStoredPassword</a></li><li data-type='method' style='display: none;'><a href="Screens.Auth.Authenticate.html#.getStoredUsername">getStoredUsername</a></li><li data-type='method' style='display: none;'><a href="Screens.Auth.Authenticate.html#.setStoredCredentials">setStoredCredentials</a></li></ul></li><li><a href="Screens.Auth.CreateAccount.html">Screens.Auth.CreateAccount</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.Auth.CreateAccount.html#.CreateAccountScreen">CreateAccountScreen</a></li></ul></li><li><a href="Screens.Auth.Login.html">Screens.Auth.Login</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.Auth.Login.html#.LoginScreen">LoginScreen</a></li></ul></li><li><a href="Screens.ChangePasswordScreen.html">Screens.ChangePasswordScreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.ChangePasswordScreen.html#.ChangePassword">ChangePassword</a></li></ul></li><li><a href="Screens.CreateListing.html">Screens.CreateListing</a><ul class='members'><li data-type='member' style='display: none;'><a href="Screens.CreateListing.html#.blurhash">blurhash</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.CreateListing.html#.CreateListing">CreateListing</a></li><li data-type='method' style='display: none;'><a href="Screens.CreateListing.html#.LoadingView">LoadingView</a></li><li data-type='method' style='display: none;'><a href="Screens.CreateListing.html#.MinorLoadingView">MinorLoadingView</a></li></ul></li><li><a href="Screens.EditContactInfo.html">Screens.EditContactInfo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.EditContactInfo.html#.EditContactInfo">EditContactInfo</a></li></ul></li><li><a href="Screens.EditProfile.html">Screens.EditProfile</a></li><li><a href="Screens.HomeScreen.html">Screens.HomeScreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.HomeScreen.html#.HomeScreen">HomeScreen</a></li></ul></li><li><a href="Screens.ProfileScreen.html">Screens.ProfileScreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.ProfileScreen.html#.ContactInfoRoute">ContactInfoRoute</a></li><li data-type='method' style='display: none;'><a href="Screens.ProfileScreen.html#.ListingsRoute">ListingsRoute</a></li><li data-type='method' style='display: none;'><a href="Screens.ProfileScreen.html#.ProfileScreen">ProfileScreen</a></li><li data-type='method' style='display: none;'><a href="Screens.ProfileScreen.html#.handleContactClick">handleContactClick</a></li></ul></li><li><a href="Screens.RatingScreen.html">Screens.RatingScreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.RatingScreen.html#.RatingScreen">RatingScreen</a></li></ul></li><li><a href="Screens.SettingsScreen.html">Screens.SettingsScreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Screens.SettingsScreen.html#.SettingsScreen">SettingsScreen</a></li></ul></li><li><a href="Styles.html">Styles</a></li><li><a href="UserSettings.html">UserSettings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="UserSettings.html#.clearUserSettings">clearUserSettings</a></li><li data-type='method' style='display: none;'><a href="UserSettings.html#.getColorMode">getColorMode</a></li><li data-type='method' style='display: none;'><a href="UserSettings.html#.getDistance">getDistance</a></li><li data-type='method' style='display: none;'><a href="UserSettings.html#.getUserSettings">getUserSettings</a></li><li data-type='method' style='display: none;'><a href="UserSettings.html#.saveUserSettings">saveUserSettings</a></li><li data-type='method' style='display: none;'><a href="UserSettings.html#.setDefaultUserSettings">setDefaultUserSettings</a></li><li data-type='method' style='display: none;'><a href="UserSettings.html#.updateColorMode">updateColorMode</a></li><li data-type='method' style='display: none;'><a href="UserSettings.html#.updateDistance">updateDistance</a></li></ul></li><li><a href="Utilities.html">Utilities</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Utilities.html#.calculateTimeSince">calculateTimeSince</a></li><li data-type='method' style='display: none;'><a href="Utilities.html#.getLocationWithRetry">getLocationWithRetry</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#Slider">Slider</a></li><li><a href="global.html#default_blurhash">default_blurhash</a></li><li><a href="global.html#getThemedStyles">getThemedStyles</a></li><li><a href="global.html#styles">styles</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">Frontend/screens/CreateListing.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>

/**
 * @namespace CreateListing
 * @memberof Screens
 */
import { serverIp } from '../config';
import * as FileSystem from 'expo-file-system';
import { Image } from 'expo-image';
import * as ImageManipulator from 'expo-image-manipulator';
import * as ImagePicker from 'expo-image-picker';
import React, { useState, useEffect, useRef, memo } from 'react';
import {
  Alert,
  Modal,
  Platform,
  SafeAreaView,
  ScrollView,
  StyleSheet,
  Text,
  TextInput,
  TouchableOpacity,
  View,
} from 'react-native';
import DraggableGrid from 'react-native-draggable-grid';
import RNPickerSelect from 'react-native-picker-select';
import MaterialIcons from 'react-native-vector-icons/MaterialIcons';
import BouncePulse from '../components/visuals/BouncePulse.js';
import TopBar from '../components/visuals/TopBarGeneric.js';
import Colors from '../constants/Colors';
import { currencies, tagOptions } from '../constants/ListingData.js';
import { screenHeight, screenWidth } from '../constants/ScreenDimensions.js';
import { getLocationWithRetry } from '../constants/Utilities';
import { handleListingCreation } from '../network/Service.js';
import { getStoredUsername } from './auth/Authenticate.js';
import { useThemeContext } from '../components/visuals/ThemeProvider';
import { getThemedStyles } from '../constants/Styles';

/**
 * @constant {string} blurhash - blurhash for the loading image in draggable grid
 * @memberof Screens.CreateListing
 */
const blurhash = 'L5H2EC=PM+yV0g-mq.wG9c010J}I';

/**
 * @function
 * @description - renders the loading animation for the create listing screen on full screen refresh after the user creates a listing
 * @param {Object} styles - object that holds the styles for the create listing screen
 * @returns {JSX.Element} - Loading animation
 * @memberof Screens.CreateListing
 */
const LoadingView = memo(({ styles }) => (
  &lt;View style={styles.loading}>
    &lt;BouncePulse />
  &lt;/View>
));

/**
 * @function
 * @description - renders the loading animation for the create listing screen on minor refreshes, for example when the user selects an image
 * @param {Object} styles - object that holds the styles for the create listing screen
 * @returns {JSX.Element} - Loading animation
 * @memberof Screens.CreateListing
 */
const MinorLoadingView = memo(({ styles }) => (
  &lt;View style={styles.minorLoadingContainer}>
    &lt;BouncePulse />
  &lt;/View>
));

/**
 * @function CreateListing
 * @memberof Screens.CreateListing
 * @param {Object} navigation - The object used to navigate between screens.
 * @param {Object} route - Information about the current route.
 * @description - This is the screen where the user can create a listing.
 * @returns {JSX.Element} - CreateListing screen components
 */
const CreateListing = memo(({ navigation, route }) => {
  /**
   * @constant {string} title - title of the listing
   * @constant {string} description - description of the listing
   * @constant {string} price - price of the listing
   * @constant {string} condition - condition of the listing
   * @constant {string} transactionPreference - transaction preference of the listing
   * @constant {Array} data - array of the images that the user selected
   * @constant {Array} selectedTags - array of the tags that the user selected
   * @constant {boolean} isScrollEnabled - boolean that checks if scrolling is enabled
   * @constant {boolean} isTitleInvalid - boolean that checks if the title is invalid
   * @constant {boolean} isDescriptionInvalid - boolean that checks if the description is invalid
   * @constant {boolean} isPriceInvalid - boolean that checks if the price is invalid
   * @constant {boolean} isConditionInvalid - boolean that checks if the condition is invalid
   * @constant {boolean} isTransactionPreferenceInvalid - boolean that checks if the transaction preference is invalid
   * @constant {boolean} isImageInvalid - boolean that checks if the image is invalid
   * @constant {boolean} isTagInvalid - boolean that checks if the tag is invalid
   * @constant {boolean} isMinorLoading - boolean that checks if the minor loading animation is active
   * @constant {boolean} isLoading - boolean that checks if the loading animation is active
   * @constant {string} selectedCurrency - currency that the user selected
   * @constant {string} selectedCurrencySymbol - currency symbol that the user selected
   * @constant {boolean} showCurrencyOptions - boolean that checks if the currency options are visible
   * @constant {Array} tagsData - array of the tags data imported from ListingData.js (tagsData is a copy of tagOptions)
   * @constant {Array} currencyOptions - array of the currency options imported from ListingData.js (currencyOptions is a copy of currencies)
   * @constant {boolean} selectImageModalVisible - boolean that checks if the select image modal is visible
   * @constant {string} theme - string that has the value of the current theme (light/dark)
   * @constant {Object} styles - object that holds the styles for the create listing screen
   */
  const [title, setTitle] = useState('');
  const [description, setDescription] = useState('');
  const [price, setPrice] = useState('');
  const [condition, setCondition] = useState('');
  const [transactionPreference, setTransactionPreference] = useState('');
  const [data, setData] = useState([]);
  const [selectedTags, setSelectedTags] = useState([]);
  const [isScrollEnabled, setIsScrollEnabled] = useState(true);
  const [isTitleInvalid, setIsTitleInvalid] = useState(false);
  const [isDescriptionInvalid, setIsDescriptionInvalid] = useState(false);
  const [isPriceInvalid, setIsPriceInvalid] = useState(false);
  const [isConditionInvalid, setIsConditionInvalid] = useState(false);
  const [isTransactionPreferenceInvalid, setIsTransactionPreferenceInvalid] =
  useState(false);
  const [isImageInvalid, setIsImageInvalid] = useState(false);
  const [isTagInvalid, setIsTagInvalid] = useState(false);
  const [isMinorLoading, setIsMinorLoading] = useState(false);
  const [isLoading, setIsLoading] = useState(false);
  const [selectedCurrency, setSelectedCurrency] = useState('USD');
  const [selectedCurrencySymbol, setSelectedCurrencySymbol] = useState('$');
  const [showCurrencyOptions, setShowCurrencyOptions] = useState(false);
  const [tagsData, setTagsData] = useState([...tagOptions]);
  const [currencyOptions, setCurrencyOptions] = useState([...currencies]);
  const [selectImageModalVisible, setSelectImageModalVisible] = useState(false);
  const { theme } = useThemeContext();
  const styles = getThemedStyles(theme).CreateListing;

  const titleInput = useRef(null);
  const descriptionInput = useRef(null);
  const priceInput = useRef(null);

  /**
   * @function
   * @destructor - resets state variables
   * @memberof CreateListing
   */
  const destructor = () => {
    setTitle('');
    setDescription('');
    setPrice('');
    setCondition('');
    setTransactionPreference('');
    setData([]);
    setSelectedTags([]);
    setSelectedCurrency('USD');
    setSelectedCurrencySymbol('$');
    setIsScrollEnabled(true);
    setIsTitleInvalid(false);
    setIsDescriptionInvalid(false);
    setIsPriceInvalid(false);
    setIsConditionInvalid(false);
    setIsTransactionPreferenceInvalid(false);
    setIsImageInvalid(false);
    setIsTagInvalid(false);
    setIsMinorLoading(false);
    setIsLoading(false);
  };

  /**
   * @function
   * @checkValidListing - checks if the listing is valid
   * @description - checks if the listing is valid and returns a code based on the validity of the listing,
   * @setIsPriceInvalid - sets the state of isPriceInvalid to true if the price is invalid which would be if the price is not a number, if the price is less than 0, or if the price is too large, if the price is empty, or if the price does not match the regex. Then make return code -1
   * @setIsTitleInvalid - sets the state of isTitleInvalid to true if the title is invalid which would be if the title is empty or if the title is too long (over 25 characters). Then make return code -1
   * @setIsDescriptionInvalid - sets the state of isDescriptionInvalid to true if the description is invalid which would be if the description is empty or if the description is too long (over 500 characters). Then make return code -1
   * @setIsConditionInvalid - sets the state of isConditionInvalid to true if the condition is invalid which would be if the condition is not one of the options. Then make return code -1
   * @setIsTransactionPreferenceInvalid - sets the state of isTransactionPreferenceInvalid to true if the transaction preference is invalid which would be if the transaction preference is not one of the options. Then make return code -1
   * @setIsImageInvalid - sets the state of isImageInvalid to true if the image is invalid which would be if the image is empty or if the image is too large. Then make return code -1
   * @setIsTagInvalid - sets the state of isTagInvalid to true if the tag is invalid which would be if the tag is empty. Then make return code -1
   * @returns Returns 0 if the listing is valid, -1 if the listing is invalid and 1 if no images are selected and 2 if too many images are selected and 3 if no tags are selected
   * @memberof CreateListing
   */
  const checkValidListing = async () => {
    const regex = /^(\d{0,6}(\.\d{2})?)$/;

    setIsPriceInvalid(!regex.test(price) &amp;&amp; price.length !== 0);
    setIsTitleInvalid(title.length === 0 || title.length > 25);
    setIsDescriptionInvalid(
      description.length === 0 || description.length > 500,
    );
    setIsConditionInvalid(
      !['Excellent', 'Good', 'Fair', 'Poor', 'For Parts'].includes(condition),
    );
    setIsTransactionPreferenceInvalid(
      !['Pickup', 'Meetup', 'Delivery', 'No Preference'].includes(
        transactionPreference,
      ),
    );
    setIsImageInvalid(data.length === 0 || data.length > 9);
    setIsTagInvalid(selectedTags.length === 0);

    if (
      Object.values({
        isPriceInvalid,
        isTitleInvalid,
        isDescriptionInvalid,
        isConditionInvalid,
        isTransactionPreferenceInvalid,
        isImageInvalid,
        isTagInvalid,
      }).includes(true)
    ) {
      return -1; // Invalid form
    }
    if (data.length === 0) {
      return 1; // No images selected
    }
    if (data.length > 9) {
      return 2; // Too many images
    }
    if (selectedTags.length === 0) {
      return 3; // No tags selected
    }
    return 0; // Valid form
  };

  /**
   * @function
   * @handleCreateListing - sends user inputted data to server and checks if it ran smoothly
   * @setIsLoading - sets the state of isLoading to true
   * @checkValidListing - checks if the listing is valid
   * @var {number} returnCode - variable that holds the return code from checkValidListing
   * @param {Object} formData - object that is sent to the server with user inputted values
   * @param {Object} image - object that holds the image that the user selected
   * @var {Object} location - object that holds the location of the user
   * @var {number} latitude - variable that holds the latitude of the user
   * @var {number} longitude - variable that holds the longitude of the user
   * @var {string} locationString - variable that holds the location of the user in string format
   * @var {Object} response - object that holds the response from the server
   * @var {Object} responseData - object that holds the response data from the server
   * @memberof CreateListing
   */
  const handleCreateListing = async () => {
    setIsLoading(true);

    let returnCode = await checkValidListing();
    if (returnCode !== 0) {
      setIsLoading(false); // Turn off loading if validation fails
      if (returnCode === -1) {
        Alert.alert('Error', 'Please correct the errors in the form.');
      } else if (returnCode === 1) {
        Alert.alert('No images selected', 'Please select at least one image.');
      } else if (returnCode === 2) {
        Alert.alert('Too many images', 'Please select no more than 9 images.');
      } else if (returnCode === 3) {
        Alert.alert('No tags selected', 'Please select at least one tag.');
      }
      return;
    }

    try {
      const formData = new FormData();

      data.forEach((image, index) => {
        formData.append(`image_${index}`, {
          uri: image.uri,
          name: `image_${index}.jpg`,
          type: 'image/jpeg',
        });
      });

      let location = await getLocationWithRetry();
      const { latitude, longitude } = location.coords;
      const locationString = JSON.stringify({ latitude, longitude });
      formData.append('location', locationString);

      formData.append('price', price);
      formData.append('title', title);
      formData.append('description', description);
      formData.append('tags', JSON.stringify(selectedTags));
      formData.append('username', getStoredUsername());
      formData.append('condition', condition);
      formData.append('transactionPreference', transactionPreference);
      formData.append('currency', selectedCurrency);
      formData.append('currencySymbol', selectedCurrencySymbol);

      const response = await fetch(`${serverIp}/api/createlisting`, {
        method: 'POST',
        body: formData,
        timeout: 10000,
      });

      if (response.status &lt;= 201) {
        const responseData = await response.json();
        destructor();
        navigation.navigate('Home', { refresh: true });
      } else {
        console.error('HTTP error! Status: ', response.status);
        Alert.alert('Error', 'Failed to create listing.');
      }
    } catch (error) {
      console.error(error);
      alert(error);
    } finally {
      setIsLoading(false);
    }
  };

  /**
   * @function
   * @useEffect - asks for permission to access camera roll when the screen is loaded
   * @memberof CreateListing
   */
  useEffect(() => {
    getPermissionAsync();
  }, []);

  /**
   * @function
   * @getPermissionAsync - asks for permission to access camera roll
   * @memberof CreateListing
   */
  const getPermissionAsync = async () => {
    // Camera roll Permission
    const { status: libraryStatus } =
      await ImagePicker.requestMediaLibraryPermissionsAsync();
    if (libraryStatus !== 'granted') {
      alert('Sorry, we need camera roll permissions to make this work!');
    }

    // Camera Permission
    const { status: cameraStatus } =
      await ImagePicker.requestCameraPermissionsAsync();
    if (cameraStatus !== 'granted') {
      alert('Sorry, we need camera permissions to make this work!');
    }
  };

  /**
   * @function
   * @showModal - shows the modal that contains camera/photo library options, changes the state of selectImageModalVisible to true
   * @hideModal - hides the modal that contains camera/photo library options, changes the state of selectImageModalVisible to false
   * @memberof CreateListing
   */
  const showModal = () => setSelectImageModalVisible(true);
  const hideModal = () => setSelectImageModalVisible(false);
  
  /**
   * @function
   * @handleCameraPick - allows the user to take photos with their camera
   * @returns Returns the photos that the user took
   * @description - allows the user to take photos with their camera
   */
  const handleCameraPick = async () => {
    const result = await ImagePicker.launchCameraAsync();

    if (!result.canceled) {
      processImage(result); // Process the first (and only) image
    }

    hideModal();
  };

  /**
   * @function
   * @handleLibraryPick - allows the user to select images from their library
   * @returns Returns the images that the user selected
   * @description - allows the user to select images from their library
   */
  const handleLibraryPick = async () => {
    const result = await ImagePicker.launchImageLibraryAsync({
      mediaTypes: ImagePicker.MediaTypeOptions.Images,
      allowsEditing: false,
      quality: 1,
      allowsMultipleSelection: true,
      selectionLimit: 9 - data.length,
    });

    if (!result.canceled &amp;&amp; result.assets) {
      processSelectedImages(result.assets);
    }

    hideModal();
  };

  /**
   * @function
   * @processImage - processes the image that the user selected
   * @param {Object} image - object that holds the image that the user selected
   * @returns Returns the image that the user selected
   * @description - processes the image that the user selected in the case that the user only selects one image
   * @memberof CreateListing
   */
  const processImage = async (image) => {
    // Process a single image
    const manipulatedImage = await manipulateImage(image.uri);
    if (manipulatedImage) {
      setData((currentData) => [...currentData, manipulatedImage]);
    }
  };

  /**
   * @function
   * @processSelectedImages - processes the images that the user selected in the case that the user selects multiple images
   * @param {Array} assets - array that holds the images that the user selected
   * @memberof CreateListing
   */
  const processSelectedImages = async (assets) => {
    // Process multiple images
    const processedImages = await Promise.all(
      assets.map(async (asset) => manipulateImage(asset.uri)),
    );
    setData((currentData) => [
      ...currentData,
      ...processedImages.filter(Boolean),
    ]);
  };

  /**
   * @function
   * @manipulateImage - compresses the image that the user selected
   * @param {string} uri - uri of the image that the user selected
   * @returns - an object with the name, key, and image file
   * @memberof CreateListing
   */
  const manipulateImage = async (uri) => {
    try {
      const originalSize = await FileSystem.getInfoAsync(uri);
      const manipulateResult = await ImageManipulator.manipulateAsync(uri, [], {
        compress: 0.4,
        format: ImageManipulator.SaveFormat.JPEG,
      });
      const compressedSize = await FileSystem.getInfoAsync(
        manipulateResult.uri,
      );
      const savedData = originalSize.size - compressedSize.size;

      console.log(
        `Original File Size for ${uri}:`,
        (originalSize.size / (1024 * 1024)).toFixed(2),
        'MB',
        `compressed to :`,
        (compressedSize.size / (1024 * 1024)).toFixed(2),
        'MB',
        `data saved: ${(savedData / (1024 * 1024)).toFixed(2)} MB`,
      );

      setIsImageInvalid(false);
      return {
        name: manipulateResult.uri.split('/').pop(),
        key: String(Date.now()),
        uri: manipulateResult.uri,
      };
    } catch (error) {
      console.error('Image processing error:', error);
      return null;
    }
  };

  /**
   * @function
   * @handleDeletePhoto - deletes photos that the user no longer wants to post
   * @param {Number} index - index of the photo that the user wants to delete
   * @returns - prompts a box to confirm, then removes the photo
   * @memberof CreateListing
   */
  const handleDeletePhoto = (index) => {
    Alert.alert('Delete Photo', 'Are you sure you want to delete this photo?', [
      {
        text: 'Cancel',
        style: 'cancel',
      },
      {
        text: 'Delete',
        onPress: () => {
          setData((currentData) => currentData.filter((_, i) => i !== index));
        },
      },
    ]);
  };

  /**
   * @param {*} item - contains image information
   * @param {*} index - index of the item in the list of images
   * @description - renders the images that the user selected
   * @returns Returns the images that the user selected
   * @memberof CreateListing
   */
  const render_item = (item, index) => {
    return (
      &lt;View style={styles.itemContainer} key={item.key}>
        {item.uri ? (
          &lt;View style={styles.item}>
            &lt;Image
              source={{ uri: item.uri }}
              style={styles.image}
              placeholder={blurhash}
              transition={200}
            />
            &lt;TouchableOpacity
              style={styles.deleteButton}
              onPress={() => handleDeletePhoto(index)}
            >
              &lt;Text style={styles.deleteButtonText}>X&lt;/Text>
            &lt;/TouchableOpacity>
          &lt;/View>
        ) : (
          &lt;Text style={styles.item_text}>{item.name}&lt;/Text>
        )}
      &lt;/View>
    );
  };

  /**
   * @function
   * @handleDragStart - disables scrolling when the user is dragging an image
   * @description - basic handle function
   * @memberof CreateListing
   */
  const handleDragStart = () => {
    // When a drag starts, disable scrolling
    setIsScrollEnabled(false);
  };

  /**
   * @function
   * @handleDragRelease - enables scrolling when the user is done dragging an image
   * @description - basic handle function
   * @memberof CreateListing
   */
  const handleDragRelease = (data) => {
    // When the drag is released, enable scrolling
    setData(data);
    setIsScrollEnabled(true);
  };

  /**
   * @function
   * @handlePriceChange - handles changes when the user enters a price
   * @param {string} text - text that hold the entered price
   * @description - handles when the user enters a price
   * @returns {void} This function doesn't return a value
   * @memberof CreateListing
   */
  const handlePriceChange = (text) => {
    const regex = /^(\d{0,6}(\.\d{2})?)$/;

    if (regex.test(text) || text === '') {
      // If text matches the format (4 digits before decimal, 2 after) or is empty
      setIsPriceInvalid(false);
    } else {
      // If the text doesn't match the format
      setIsPriceInvalid(true);
    }
  };

  /**
   * @function
   * @handleTagPress - handles when the user presses a tag
   * @param {Number} index - index of the tag that the user pressed
   * @param {String} pressedTagName - name of the tag that the user pressed
   * @param {Boolean} isAlreadySelected - boolean that checks if the tag is already selected
   * @param {Array} newSelectedTags - array of the selected tags
   * @param {Array} newTagsData - array of the tags data
   * @param {Array} tagsData - array of the tags data
   * @param {Array} selectedTags - array of the selected tags
   * @description - handles when the user presses a tag
   * @returns Returns the tags that the user selected
   * @memberof CreateListing
   */
  const handleTagPress = (index) => {
    setIsTagInvalid(false);
    const newTagsData = tagsData.map((tag, idx) => {
      if (idx === index) {
        return { ...tag, selected: !tag.selected };
      }
      return tag;
    });

    const pressedTagName = newTagsData[index].name;
    const isAlreadySelected = selectedTags.includes(pressedTagName);

    let newSelectedTags;
    if (isAlreadySelected) {
      newSelectedTags = selectedTags.filter(
        (tagName) => tagName !== pressedTagName,
      );
    } else {
      newSelectedTags = [...selectedTags, pressedTagName];
    }

    setTagsData(newTagsData);
    setSelectedTags(newSelectedTags);
  };

  /**
   * @function
   * @name groupTagsIntoRows
   * @description - Groups the tags into rows
   * @param {Array} tags - array of tags
   * @param {number} itemsPerRow - # of items to display per row
   * @returns {Array} - returns the array with tags grouped together
   * @memberof CreateListing
   */
  const groupTagsIntoRows = (tags, itemsPerRow) => {
    return tags.reduce((rows, tag, index) => {
      if (index % itemsPerRow === 0) rows.push([]);
      rows[rows.length - 1].push(tag);
      return rows;
    }, []);
  };

  const handleCurrencySelection = (currencyName, currencySymbol) => {
    setSelectedCurrency(currencyName);
    setSelectedCurrencySymbol(currencySymbol);
    setShowCurrencyOptions(false);
  };

  const renderCurrencyOptions = () => {
    return currencyOptions.map((currency) => (
      &lt;TouchableOpacity
        key={currency.name}
        onPress={() => handleCurrencySelection(currency.name, currency.symbol)}
      >
        &lt;Text style={styles.currencyOption}>
          {selectedCurrency === currency.name ? 'âœ“ ' : ''}
          {`${currency.name} ${currency.symbol}`}
        &lt;/Text>
      &lt;/TouchableOpacity>
    ));
  };

  const rowsOfTags = groupTagsIntoRows(tagsData, 3);
  return (
    &lt;View style={styles.wrapper}>
      {Platform.OS === 'android' ? (
        &lt;TopBar imageVisible={!showCurrencyOptions} />
      ) : (
        &lt;TopBar imageVisible={true} />
      )}

      &lt;View style={styles.scrollfield}>
        &lt;ScrollView scrollEnabled={isScrollEnabled}>
          &lt;View style={styles.rowContainer}>
            &lt;View style={styles.rowContainer}>
              &lt;Text style={styles.label}>Title&lt;/Text>
              {isTitleInvalid ? (
                &lt;View style={styles.rowContainer}>
                  &lt;Text style={styles.asterisk}> *&lt;/Text>
                  &lt;Text style={styles.errorMessage}>
                    {title == ''
                      ? 'Title is required'
                      : title.length > 25
                        ? 'Title too long'
                        : 'Must enter a valid title'}
                  &lt;/Text>
                &lt;/View>
              ) : (
                ''
              )}
            &lt;/View>
            &lt;Text style={styles.characterCounter}>{title.length}/25&lt;/Text>
          &lt;/View>
          &lt;TextInput
            ref={titleInput}
            style={[
              styles.input,
              isTitleInvalid
                ? theme === 'dark'
                  ? { borderColor: Colors.BB_violet, borderWidth: 1 }
                  : { borderColor: Colors.BB_red, borderWidth: 1 }
                : null,
              theme === 'dark'
                ? { backgroundColor: '#2d2d30', color: Colors.white }
                : null,
            ]}
            value={title}
            onChangeText={(text) => {
              setTitle(text);
              setIsTitleInvalid(false);
            }}
            returnKeyType="next"
            onSubmitEditing={() => descriptionInput.current.focus()}
            maxLength={25}
          />
          &lt;View style={styles.rowContainer}>
            &lt;View style={styles.rowContainer}>
              &lt;Text style={styles.label}>Description&lt;/Text>
              {isDescriptionInvalid &amp;&amp; (
                &lt;View style={styles.rowContainer}>
                  &lt;Text style={styles.asterisk}> *&lt;/Text>
                  &lt;Text style={styles.errorMessage}>
                    {description.length > 500
                      ? 'Description too long'
                      : description.length === 0
                        ? 'Description is required'
                        : 'Must enter a valid description'}
                  &lt;/Text>
                &lt;/View>
              )}
            &lt;/View>
            &lt;Text style={styles.characterCounter}>
              {description.length}/500
            &lt;/Text>
          &lt;/View>
          &lt;TextInput
            ref={descriptionInput}
            style={[
              styles.input,
              styles.multilineInput,
              (textAlign = 'left'),
              isDescriptionInvalid
                ? theme === 'dark'
                  ? { borderColor: Colors.BB_violet, borderWidth: 1 }
                  : { borderColor: Colors.BB_red, borderWidth: 1 }
                : null,
              theme === 'dark'
                ? { backgroundColor: '#2d2d30', color: Colors.white }
                : null,
            ]}
            value={description}
            onChangeText={(text) => {
              setDescription(text);
              setIsDescriptionInvalid(false);
            }}
            multiline={true}
            textAlignVertical="top"
            returnKeyType="next"
            onSubmitEditing={() => priceInput.current.focus()}
            maxLength={500}
          />

          &lt;View style={styles.rowContainer}>
            &lt;Text style={styles.label}>Price&lt;/Text>
            {isPriceInvalid ? (
              &lt;View style={styles.rowContainer}>
                &lt;Text style={styles.asterisk}> *&lt;/Text>
                &lt;Text style={styles.errorMessage}>
                  {price == ''
                    ? 'Price is required'
                    : /^(\d{0,6}(\.\d{2})?)$/.test(price)
                      ? 'Must enter a valid price'
                      : price &lt; 0
                        ? 'Invalid price'
                        : price.length >= 7
                          ? 'Price too large'
                          : 'Must enter a valid price'}
                &lt;/Text>
              &lt;/View>
            ) : (
              ''
            )}
          &lt;/View>

          &lt;View
            style={{
              flexDirection: 'row',
              alignItems: 'center',
              marginLeft: 20,
            }}
          >
            &lt;View style={{ ...styles.currencyButtonContainer }}>
              &lt;TouchableOpacity onPress={() => setShowCurrencyOptions(true)}>
                &lt;View
                  style={[
                    styles.currencyButton,
                    theme === 'dark' ? { backgroundColor: '#1e1e1e' } : null,
                  ]}
                >
                  &lt;Text style={styles.currencyButtonText}>
                    {selectedCurrency} {selectedCurrencySymbol}
                  &lt;/Text>
                &lt;/View>
              &lt;/TouchableOpacity>
            &lt;/View>
            &lt;TextInput
              ref={priceInput}
              style={[
                styles.input,
                { width: '94.5%', marginLeft: -101.5 },
                isPriceInvalid
                  ? theme === 'dark'
                    ? { borderColor: Colors.BB_violet, borderWidth: 1 }
                    : { borderColor: Colors.BB_red, borderWidth: 1 }
                  : null,
                theme === 'dark'
                  ? { backgroundColor: '#2d2d30', color: Colors.white }
                  : null,
              ]}
              value={price}
              onChangeText={(text) => {
                setPrice(text);
                setIsPriceInvalid(false);
                handlePriceChange(text);
              }}
              keyboardType="numeric"
              returnKeyType="done"
              placeholder={`0.00`}
              maxLength={9}
            />
          &lt;/View>

          {/* TRANSACTION PREFERENCE*/}
          &lt;View style={styles.rowContainer}>
            &lt;Text style={{ ...styles.label, marginBottom: 0 }}>
              Transaction Preference
            &lt;/Text>
            {isTransactionPreferenceInvalid ? (
              &lt;View style={styles.rowContainer}>
                &lt;Text style={styles.asterisk}> *&lt;/Text>
                &lt;Text style={styles.errorMessage}>
                  Must select a preference
                &lt;/Text>
              &lt;/View>
            ) : (
              ''
            )}
          &lt;/View>
          &lt;View style={styles.pickerStyle}>
            {Platform.OS == 'ios' &amp;&amp; (
              &lt;View
                style={[
                  styles.pickerBackground,
                  theme === 'dark' ? { backgroundColor: '#2d2d30' } : null,
                ]}
              />
            )}
            &lt;RNPickerSelect
              selectedValue={transactionPreference}
              onValueChange={(itemValue, itemIndex) => {
                setTransactionPreference(itemValue);
                setIsTransactionPreferenceInvalid(false);
              }}
              items={[
                { label: 'Pickup', value: 'Pickup' },
                { label: 'Meetup', value: 'Meetup' },
                { label: 'Delivery', value: 'Delivery' },
                { label: 'No Preference', value: 'No Preference' },
              ]}
              style={{
                inputIOS: {
                  color: theme === 'dark' ? Colors.white : Colors.black,
                  left: 5,
                },
                inputAndroid: {
                  color: theme === 'dark' ? Colors.white : Colors.black,
                  left: 5,
                },
              }}
            />
          &lt;/View>

          {/* ITEM CONDITON */}
          &lt;View style={styles.rowContainer}>
            &lt;Text style={{ ...styles.label, marginTop: 10, marginBottom: 0 }}>
              Condition
            &lt;/Text>
            {isConditionInvalid ? (
              &lt;View style={styles.rowContainer}>
                &lt;Text style={styles.asterisk}> *&lt;/Text>
                &lt;Text style={styles.errorMessage}>Must select a condition&lt;/Text>
              &lt;/View>
            ) : (
              ''
            )}
          &lt;/View>
          &lt;View style={{ ...styles.pickerStyle }}>
            {Platform.OS == 'ios' &amp;&amp; (
              &lt;View
                style={[
                  styles.pickerBackground,
                  theme === 'dark' ? { backgroundColor: '#2d2d30' } : null,
                ]}
              />
            )}
            &lt;RNPickerSelect
              selectedValue={condition}
              onValueChange={(itemValue, itemIndex) => {
                setCondition(itemValue);
                setIsConditionInvalid(false);
              }}
              items={[
                { label: 'Excellent', value: 'Excellent' },
                { label: 'Good', value: 'Good' },
                { label: 'Fair', value: 'Fair' },
                { label: 'Poor', value: 'Poor' },
                { label: 'For Parts', value: 'For Parts' },
              ]}
              style={{
                inputIOS: {
                  color: theme === 'dark' ? Colors.white : Colors.black,
                  left: 5,
                },
                inputAndroid: {
                  color: theme === 'dark' ? Colors.white : Colors.black,
                  left: 5,
                },
              }}
            />
          &lt;/View>

          &lt;TouchableOpacity onPress={showModal} style={styles.button}>
            &lt;Text style={styles.buttonText}>Select Images&lt;/Text>
          &lt;/TouchableOpacity>
          &lt;View
            style={[
              styles.imageField,
              isImageInvalid
                ? theme === 'dark'
                  ? { borderColor: Colors.BB_violet, borderWidth: 1 }
                  : { borderColor: Colors.BB_red, borderWidth: 1 }
                : null,
              theme === 'dark' ? { backgroundColor: '#2d2d30' } : null,
            ]}
          >
            &lt;View style={styles.innerField}>
              &lt;DraggableGrid
                numColumns={3}
                renderItem={(item, index) => render_item(item, index)}
                data={data}
                onDragRelease={handleDragRelease}
                onDragStart={handleDragStart}
              />
            &lt;/View>
          &lt;/View>
          &lt;ScrollView
            style={[
              styles.tagField,
              isTagInvalid
                ? theme === 'dark'
                  ? { borderColor: Colors.BB_violet, borderWidth: 1 }
                  : { borderColor: Colors.BB_red, borderWidth: 1 }
                : null,
              theme === 'dark' ? { backgroundColor: '#2d2d30' } : null,
            ]}
          >
            &lt;View>
              {rowsOfTags.map((row, rowIndex) => (
                &lt;View key={rowIndex} style={styles.tagRowContainer}>
                  {row.map((tag, tagIndex) => (
                    &lt;TouchableOpacity
                      key={tagIndex}
                      style={styles.tagContainer}
                      onPress={() => {
                        handleTagPress(tagIndex + rowIndex * 3);
                        if (selectedTags.length > 0) {
                          setIsTagInvalid(false);
                        }
                      }}
                    >
                      &lt;View
                        style={[
                          styles.tagSelected,
                          theme === 'dark'
                            ? { backgroundColor: Colors.BB_violet }
                            : null,
                          { opacity: tag.selected ? 1 : 0.3 },
                        ]}
                      />
                      &lt;View
                        style={[
                          styles.rhombus,
                          theme === 'dark'
                            ? { backgroundColor: Colors.white }
                            : null,
                          { opacity: tag.selected ? 0.15 : 0 },
                        ]}
                      />
                      &lt;Text style={styles.tagText}>{tag.name}&lt;/Text>
                    &lt;/TouchableOpacity>
                  ))}
                &lt;/View>
              ))}
            &lt;/View>
          &lt;/ScrollView>

          &lt;TouchableOpacity onPress={handleCreateListing}>
            &lt;View style={[styles.createButton, (top = 30), (bottom = 0)]}>
              &lt;Text style={styles.buttonText}>Create Listing&lt;/Text>
            &lt;/View>
          &lt;/TouchableOpacity>

          &lt;Text style={styles.spacer} />
        &lt;/ScrollView>

        {showCurrencyOptions &amp;&amp; (
          &lt;Modal visible={showCurrencyOptions} animationType="slide">
            &lt;View style={styles.modalHeader} />
            &lt;ScrollView style={styles.currencyScrollView}>
              &lt;View style={styles.modalContent}>
                &lt;View style={styles.currencyOptionsContainer}>
                  {renderCurrencyOptions()}
                &lt;/View>
              &lt;/View>
            &lt;/ScrollView>
            &lt;View style={styles.modalFooter} />
            &lt;TouchableOpacity
              onPress={() => setShowCurrencyOptions(false)}
              style={styles.closeButtonContainer}
            >
              &lt;View style={styles.closeButton}>
                &lt;Text style={styles.closeButtonText}>Close&lt;/Text>
              &lt;/View>
            &lt;/TouchableOpacity>
          &lt;/Modal>
        )}

        &lt;Modal
          animationType="slide"
          transparent={true}
          visible={selectImageModalVisible}
          onRequestClose={() => {
            hideModal();
          }}
        >
          &lt;View style={styles.centeredView}>
            &lt;View style={styles.modalView}>
              &lt;TouchableOpacity
                style={styles.imagePickerButton}
                onPress={handleCameraPick}
              >
                &lt;Text style={styles.imagePickerButtonText}>Camera&lt;/Text>
                &lt;MaterialIcons
                  name="camera-alt"
                  size={24}
                  color={theme === 'dark' ? Colors.BB_violet : Colors.black}
                  style={{ top: 10, left: '90%' }}
                />
              &lt;/TouchableOpacity>
              &lt;TouchableOpacity
                style={styles.imagePickerButton}
                onPress={handleLibraryPick}
              >
                &lt;Text style={styles.imagePickerButtonText}>Photo Library&lt;/Text>
                &lt;MaterialIcons
                  name="photo-library"
                  size={24}
                  color={theme === 'dark' ? Colors.BB_violet : Colors.black}
                  style={{ top: 10, left: '50%' }}
                />
              &lt;/TouchableOpacity>
              &lt;TouchableOpacity
                style={styles.imagePickerButton}
                onPress={() => hideModal()}
              >
                &lt;Text style={styles.imagePickerButtonText}>Cancel&lt;/Text>
              &lt;/TouchableOpacity>
            &lt;/View>
          &lt;/View>
        &lt;/Modal>
      &lt;/View>

      {isMinorLoading &amp;&amp; &lt;MinorLoadingView styles={styles} />}
      {isLoading &amp;&amp; &lt;LoadingView styles={styles} />}
    &lt;/View>
  );
});

export default CreateListing;
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Sun Dec 03 2023 19:55:26 GMT-0800 (Pacific Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
